@use 'settings';

:root {
  // Text colours
  --light-mode-text-primary: #{settings.$colour-light-mode-text-primary};
  --dark-mode-text-primary: #{settings.$colour-dark-mode-text-primary};
  --text-primary: var(--light-mode-text-primary);


  --dark-mode-background-colour: #{settings.$colour-dark-mode-background};
  --light-mode-background-colour: #{settings.$colour-light-mode-background};
  --background-colour: var(--light-mode-background-colour);

  // Site header background colours
  --light-mode-site-header-background-colour-1: #{settings.$colour-site-header-background-darker};
  --light-mode-site-header-background-colour-2: #{settings.$colour-white};
  --site-header-background-colour-1: var(--light-mode-site-header-background-colour-1);
  --site-header-background-colour-2: var(--light-mode-site-header-background-colour-2);

  // furniture
  --light-mode-furniture-colour: #{settings.$colour-furniture};
  --dark-mode-furniture-colour: #{settings.$colour-dark-furniture};
  --furniture-colour: var(--light-mode-furniture-colour);
}

@mixin set-colours($property, $colour-variable-to-use, $dark-mode-colour) {
  #{$property}: var($colour-variable-to-use);

  @media (prefers-color-scheme: dark) {
    @at-root & {
     #{$property}: var($dark-mode-colour);
    }
  }
}

body {
  @include set-colours(background-color, --background-colour, --dark-mode-background-colour);
  @include set-colours(color, --text-primary, --dark-mode-text-primary);
}
// TODO: more normalise stuff in here

// extracted and adapted from site-header/_index.scss
.site-header {
  @include set-colours(background-color, --site-header-background-colour-1, --dark-mode-background-colour)
}

.site-header__white_box_padding,
.site-header__white_box {
  @include set-colours(background-color, --site-header-background-colour-2, --dark-mode-background-colour);
}
